<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - bluBeetle.ai</title>

    {% set Auth_Css_Urls = Auth_Css_Urls() %}
    {% if Auth_Css_Urls %}
    {{ Auth_Css_Urls | safe }}
    {% endif %}

    <div class="c-content">
        <div class="c-content-main-part">
            <div id="toastContainer" class="toast-container">
            </div>
        </div>
    </div>

</head>

<body>

    <section class="main-login">
        <div class="row">

            <!-- Authentication SideBar -->
            {% set Auth_Sidebar = Auth_Sidebar() %}
            {% if Auth_Sidebar %}
            {{ Auth_Sidebar | safe }}
            {% endif %}

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 col-12 login-right-main-part">
                <div class="login-right-part">
                    <div class="login-padding">
                        <a href="/">
                            <img src="../../static/images/logo.png" class="img-fluid c-logo">
                        </a>
                        <div class="login-box">
                            <div class="login-content">
                                <h1>Admin Login</h1>
                                <div id="validate-toast"></div>
                                <div>
                                    <div class="input-groups">
                                        <label>UserName / Email</label>
                                        <input type="text" name="User_Name" id="User_Name" required>
                                        <div class="error" id="errorMessage_User_Name"></div>
                                    </div>
                                    <div class="input-groups">
                                        <label>Password</label>
                                        <i class="toggle-password ri-eye-line"></i>
                                        <input type="password" name="Password" id="Password" required>
                                        <div class="error" id="errorMessage_Password"></div>
                                    </div>
                                    <div class="group">
                                        <button class="btn c-btn" id="admin-login-btn">Login</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Page Javascript -->
    {% include 'admin_login_js.html' %}


    <script nonce="{{ g.nonce }}">
        $(document).ready(function () {
            $(".toggle-password").click(function () {
                $(this).toggleClass("ri-eye-off-line");
                input = $(this).parent().find("input");
                if (input.attr("type") == "password") {
                    input.attr("type", "text");
                } else {
                    input.attr("type", "password");
                }
            });
        });

        $('.select2').select2();

        // Listen for the 'select2:open' event
        $(document).on('select2:open', (e) => {
            const selectId = e.target.id;

            // Use a timeout to ensure the search field is rendered
            setTimeout(() => {
                $(".select2-search__field[aria-controls='select2-" + selectId + "-results']").each(function (key, value) {
                    value.focus();
                });
            }, 100); // Adjust the delay as needed
        });
    </script>
</body>

</html>